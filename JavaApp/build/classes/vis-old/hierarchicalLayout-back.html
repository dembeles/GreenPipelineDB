<!doctype html>
<html>
<head>
    <title>Network | Hierarchical layout</title>

    <style type="text/css">
        html, body {
            font: 10pt sans;
			width: 100%;
			height: 100%;
        }

        #mynetwork {
            /*width: 600px;
            height: 600px;*/
            border: 1px solid lightgray;
			/*overflow:hidden;*/
			width: 98%;
			height: 98%;
        }
    </style>

    <script type="text/javascript" src="vis.js"></script>
    <link href="vis.css" rel="stylesheet" type="text/css"/>


    <script type="text/javascript">
        var nodes = null;
        var edges = null;
        var network = null;

        function destroy() {
            if (network !== null) {
                network.destroy();
                network = null;
            }
        }

        function draw() {
            destroy();
			// create an array with nodes
			/*var nodes = new vis.DataSet([
				{id: 1, label: 'Node 1'},
				{id: 2, label: 'Node 2'},
				{id: 3, label: 'Node 3'},
				{id: 4, label: 'Node 4'},
				{id: 5, label: 'Node 5'}
			]);

			// create an array with edges
			var edges = new vis.DataSet([
				{from: 1, to: 3},
				{from: 1, to: 2},
				{from: 2, to: 4},
				{from: 2, to: 5}
			]);*/
			
			/*var nodes = new vis.DataSet([{id: 0, label: 'Aggregate', title: 'I have a popup!', image: 'img/ex_aggregate.png', shape: 'image', group: 'source'},{id: 1, label: 'Sort', image: 'img/ex_sort.png', shape: 'circularImage'},{id: 2, label: 'Nested Loop'},{id: 3, label: 'Hash Join'},{id: 4, label: 'Hash Join'},{id: 5, label: 'Hash Join'},{id: 6, label: 'Seq Scan'},{id: 7, label: 'Hash'},{id: 8, label: 'Seq Scan'},{id: 9, label: 'Hash'},{id: 10, label: 'Seq Scan'},{id: 11, label: 'Hash'},{id: 12, label: 'Seq Scan'},{id: 13, label: 'Materialize'},{id: 14, label: 'Seq Scan'}]);
            
			var edges = new vis.DataSet([{from: 1, to: 0},{from: 2, to: 1},{from: 3, to: 2},{from: 4, to: 3},{from: 5, to: 4},{from: 6, to: 5},{from: 7, to: 6},{from: 8, to: 6},{from: 9, to: 8},{from: 10, to: 5},{from: 11, to: 10},{from: 12, to: 4},{from: 13, to: 12},{from: 14, to: 3},{from: 15, to: 14}]);*/
			
			var nodes = new vis.DataSet([{id: 0, group: 'PL2', shape: 'dot', size: 15, label: 'Sort', title: '<b>Startup-Cost:</b> 159918<br><b>Total-Cost:</b> 159918<br><b>Plan-Rows:</b> 1<br><b>IO-Cost:</b> 0<br><b>CPU-Cost:</b> 0<br><b>Power-Cost:</b> 27<br>'},{id: 1, group: 'PL1', shape: 'dot', size: 15, label: 'Aggregate', title: '<b>Startup-Cost:</b> 159918<br><b>Total-Cost:</b> 159918<br><b>Plan-Rows:</b> 1<br><b>IO-Cost:</b> 0<br><b>CPU-Cost:</b> 70<br><b>Power-Cost:</b> 27<br>'},{id: 2, group: 'PL1', shape: 'dot', size: 15, label: 'Nested Loop', title: '<b>Startup-Cost:</b> 0<br><b>Total-Cost:</b> 159848<br><b>Plan-Rows:</b> 14037<br><b>IO-Cost:</b> 110888<br><b>CPU-Cost:</b> 223<br><b>Power-Cost:</b> -5<br>'},{id: 3, group: 'PL1', shape: 'dot', size: 15, label: 'Seq Scan', title: '<b>Table:</b> orders<br><b>Startup-Cost:</b> 0<br><b>Total-Cost:</b> 48213<br><b>Plan-Rows:</b> 55443<br><b>IO-Cost:</b> 25713<br><b>CPU-Cost:</b> 22500<br><b>Power-Cost:</b> 18<br>'},{id: 4, group: 'PL1', shape: 'dot', size: 15, label: 'Index Scan', title: '<b>Table:</b> lineitem<br><b>Startup-Cost:</b> 0<br><b>Total-Cost:</b> 7<br><b>Plan-Rows:</b> 5<br><b>IO-Cost:</b> 44365<br><b>CPU-Cost:</b> 0<br><b>Power-Cost:</b> 6<br>'}]);
			var edges = new vis.DataSet([{from: 0, to: 1},{from: 1, to: 2},{from: 2, to: 3},{from: 2, to: 4}]);

			var data = {
				nodes: nodes,
				edges: edges
			};

            // create a network
            var container = document.getElementById('mynetwork');
            //var directionInput = document.getElementById("direction").value;
            var options = {
				edges: {
                    smooth: {
                        type: 'cubicBezier',
                        forceDirection: 'vertical',
                        roundness: 0.4
                    },
					shadow:true
                    //arrows: {to : true }
                },
				nodes: {
					shape: 'dot',
					size: 10,
					shadow:true
				},
                layout: {
                    hierarchical: {
                        direction: "UD",
						sortMethod: "directed",
						levelSeparation: 80
                    }
                },
				interaction: {
					hover:true
				},
                physics:false
            };
            network = new vis.Network(container, data, options);

            // add event listeners
            network.on('select', function (params) {
                document.getElementById('selection').innerHTML = 'Selection: ' + params.nodes;
            });
        }

    </script>
</head>

<body onload="draw();">

<div id="mynetwork"></div>

<p id="selection"></p>
</body>
</html>
